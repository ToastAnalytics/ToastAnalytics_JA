#Overview

Analyticsは、登録済みのゲームアプリを利用するユーザーの利用パターンと様々な指標に対する分析データサービスをサポートします。<br/>
Analyticsで提供する分析データをご利用いただくためには、アプリ登録後、Analyticsで提供するSDKを適用する必要があります（SDKは、 iOS、Android、Unityに対応します）。

#サービスの構造

Analytics SDKは、アプリのユーザーログを収集します。Analytics分析システムは、SDKからログを収集・分析します。

![図1 サービス構造図](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/an_1.png)

[図1 サービス構造図]

Analyticsは、TOAST CloudのウェブコンソールまたはAnalytics サイトで直接開始できます。Analyticsのみを使用する利用者はAnalyticsサイト（<http://analytics.toast.com>から、TOAST Cloud商品の利用者はTOAST Cloudのウェブコンソール<http://console.cloud.toast.com>）から直接開始できます。<br />
このドキュメントは、Analyticsサイトに直接アクセスする場合を想定したものです。TOAST Cloudのウェブコンソールから開始する場合は、「TOAST Cloud Consoleから開始する」をご参照ください。



#Analyticsサイトから開始する

##ログインおよび利用案内

 Analyticsサービスを利用するためには、サービスにログインし、アプリを登録する必要があります。会員ではない場合は、会員登録を行ってからログインし、アプリ登録を進めてください。<br />
Analyticsへの初回ログイン後は、アプリの登録はもちろん、従来のアプリへ参加申請をしたり、Analyticsが提供する機能を確認することができます。すでにカンパニーやアプリに所属している場合、下記のような案内画面は表示されません。

![図2 Anlayticsの利用案内](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image2.png)

[図2 Anlayticsの利用案内]

####1. アプリ登録
Analyticsのサービスを利用するためには、アプリ登録が必要です。アプリは、現在サービス実施中または準備中、どちらの場合でも登録できます。アプリを登録するためには、カンパニーに登録されていなければなりません。カンパニー登録の詳しいプロセスについては、「1.2カンパニー検索および作成」をご参照ください。

####2. 登録されたアプリに参加する
Analyticsに登録されているアプリのメンバーになり、分析データを閲覧したい場合は、参加申請を行ってください。アプリの担当者の検討を経て、アプリのメンバーになることができます。<br />
「参加する」をクリックすると「このアプリに参加する」のポップアップが現れます。そこで、参加を申請したいアプリ名、申請者本人アカウント、申請内容を記入し、確認をクリックしてください。アプリのメンバーになるためには、アプリの担当者からの招待が必要です。申請者が誰なのか特定できる情報を入力してください。担当者がアプリへの参加申請を確認し、アプリのメンバーとして追加すると、追加完了のお知らせメールが申請者宛に送信されます。アプリのメンバーとして加わり、Analyticsにログインすると、アプリの分析データを閲覧することができるようになります。

####3. お試し
「お試し」では、デモアカウントでログインし、Analyticsが提供する分析指標および機能を体験することができます。



##カンパニーの検索および作成

####1. カンパニーの検索およびメンバー追加の申請
Analyticsでは、単体アプリのデータに対する分析だけでなく、会社ごとのアプリのデータを、一度に確認することができます。そのため、アプリの登録時には、必ずカンパニーに属してなければなりません。まだカンパニーに所属していない利用者がアプリを登録しようとする場合、下記のようなカンパニー検索画面が表示されます。<br />
作ろうとするカンパニーがすでにAnalyticsに作成されていないか、予めカンパニー名を検索し、確認してください。

![図3 カンパニーの検索画面](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image3.png)

[図3 カンパニーの検索画面]

検索をかけたカンパニー名がすでに登録されている場合、下記のように検索結果が表示されます。その中から、メンバーとして参加したいカンパニーを選択し、「申請する」をクリックしてください。

![図4 カンパニーの検索結果](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image4.png)

[図4 カンパニーの検索結果]

カンパニー参加申請のポップアップで、参加を申請したいカンパニー名と利用者本人のアカウントを確認してから申請内容を記入し、「確認」をクリックしてください。カンパニーのメンバーになるためには、カンパニー作成者からの招待が必要です。申請者が誰なのか特定できる情報を入力してください。カンパニーの作成者がカンパニー参加申請を確認したら、申請者のメールアドレス宛に招待メールが送信されます。招待メールを通じてカンパニーに所属することができ、その後、アプリの登録もできるようになります。カンパニーに所属しているアカウントで登録したアプリは、自動的に該当するカンパニーに所属されたアプリになります。

![図5 カンバニー参加申請のポップアップ](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image5.png)

[図5 カンバニー参加申請のポップアップ]

####2. カンパニーの作成
もし、参加したいカンパニーがない場合には、新規でカンパニーを作成することができます。カンパニーの作成画面で、「新しいカンパニーを作成する」をクリックすると下記のようなカンパニーの作成画面が表示されます。<br />
カンパニー所属のアカウントで登録されたアプリは、自動的に該当するカンパニーに所属されたアプリになるため、正確なデータ分析が行われるよう、カンパニーの作成は1社あたり1個を推奨します。一度登録したカンパニー名は修正できませんので、ご注意ください。それでは、使いたいカンパニー名を入力し、「作成」をクリックしてください。

![図6 カンパニーの作成画面](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image6.png)

[図6 カンパニーの作成画面]



##アプリを登録する

####1. アプリ基本情報の登録
Analyticsにアプリを登録する際には、アプリ基本情報入力ページで下記の内容を入力し、「保存」をクリックしてください。

#####1)カンパニー
アプリを登録するアカウントが所属しているカンパニー名が表示されます。

#####2)アプリ名
登録するアプリの名前を入力してください。ここに入力するアプリ名がAnalyticsサイトに表示されます。一度登録したアプリ名は修正できません。 

#####3)アプリのサムネイル
登録するアプリのサムネイルをアップロードしてください。ここにアップロードする画像がAnalyticsサイトに表示されます。

#####4)画面の向き
登録するアプリの画面の向きを選択してください。

#####5)OS
登録するアプリが対応するOSを全て選択してください。OSごとに違うアプリで登録すると、 ログ分析のデータも別々に収集されるので、対応OSを全て選択することを推奨します。
#####6)サービスプラットフォーム
アプリが搭載するサービスプラットフォーム（カカオトーク、LINEなど）があれば、選択してください。一度選択したサービスプラットフォームは修正できません。

#####7)アプリのリリース日
登録したアプリのログデータは、アプリのリリース日から全社ダッシュボードに集計されます。そのため、アプリのリリース日は修正できませんので、慎重に入力してください。但し、全社ダッシュボードに集計されるデータではない、アプリの個別データ情報については、アプリがリリースされる前からでも各メニューで確認できます。

#####8)パッケージ名（or バンドルID）
アンドロイドの場合はパッケージ名、iOSの場合はバンドルIDを登録してください。この情報は、マーケティングで流入チャネルを追跡するためのトラッキングURLを提供する際に使われます。

![図7 アプリ基本情報入力ページ](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image7.png)

[図7 アプリ基本情報入力ページ]


[参照]
もしTOAST Cloudのウェブコンソールからアクセスした場合、カンパニーに所属していないアカウントは、アプリの基本情報を入力する際にカンパニー名を入力することでカンパニーを作成することができます。<br />
また、既存に作成したプロジェクトがある場合には、「プロジェクト選択」をクリックし、どのプロジェクトをAnalyticsで使用するかを選択できます。ボタンは、TOAST Cloudのウェブコンソールで作成したプロジェクトがある場合に限って表示されます（プロジェクトとアプリは同じ単位で、 TOAST Cloudではプロジェクト、Analyticsではアプリと言います）。


![図8 アプリとして登録するプロジェクトを選択するポップアップ画面](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image8.png)

[図8 アプリとして登録するプロジェクトを選択するポップアップ画面]

####2. SDK適用のための情報確認
全てのアプリ情報を入力し、「保存」をクリックするとSDK連動に必要な認証キーが作成されます。発行されたアプリIDとカンパニー番号は、SDK連動時に使われる情報です。プラットフォームごとのSDKおよび適用ガイドは、ページの下部にあるの開発ガイドをご参照ください。

![図9 アプリ認証キーの情報案内ページ](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image9.png)

[図9 アプリ認証キーの情報案内ページ]

####3. アプリ登録の完了
認証キーの情報ページで「完了」ページをクリックすると、アプリのページが作成できます。アプリページのみ作成された状態であるため、分析データは表示されません。データの収集および分析は、アプリにAnalytics SDKの連動が完了してから行われます。SDK連動後にアプリを配信すれば、Analyticsサービスを利用するための基本準備が完了します。

`
[参照]
Analyticsサイト内のアプリ登録ボタンは、LNBのアプリリストの下にあります。アプリ登録ボタンをクリックすると、アプリ基本情報入力ページに遷移します。


![図10「新しいアプリを登録する」の場所](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image10.png)

[図10「新しいアプリを登録する」の場所]



##アプリの設定

アプリの設定は、アプリの基本情報、メンバー設定、分析設定、マーケティング管理、プッシュ設定で構成されており、アプリを総合的に管理できます。<br />
アプリ設定メニューは、GNBのアプリ名の隣に表示される歯車ボタンをクリックすると表示されます。

![図11 アプリ設定ボタン](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image11.png)

[図11 アプリ設定ボタン]

####1. アプリの基本情報

#####アプリ基本情報の確認および修正
アプリ登録時に入力した基本情報が表示されます。さらに、「修正」をクリックすることでアプリの情報が修正できます。

#####アプリの削除
アプリのアドミン権限がある場合、「アプリを削除する」をクリックしてアプリを削除することができます。アプリは削除された直後から、Analyticsで使用できなくなります。間違えてアプリを削除してしまった場合は、削除日から30日以内にカストマーセンターにアプリ削除のキャンセルを依頼してください。ただし、この場合には、削除日から削除をキャンセルした日までのデータは収集されません。

####2. メンバーの設定
アプリのメンバー情報は、アプリの管理者レベル以上の者のみ、確認および編集することができます。メンバーの権限レベルは下記のよう分けられます。</br>
- アドミン：該当アプリの分析データを検索でき、運営やアプリの設定および情報を変更できるアカウント</br>
- メンバー：アプリのデータおよびアプリの情報のみが確認できるアカウント（運営、設定は使用不可能）

![図12 メンバー設定ページ](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image12.png)

[図12 メンバー設定ページ]

#####アプリのメンバーをカンパニーのメンバーとして追加する
アプリのメンバーをカンパニーのメンバーとして追加できるのは、アプリをanalyticsに登録したアプリ作成者のみです。カンパニーのメンバーとして追加されたアカウントは、カンパニーのダッシュボードを確認できるようになります。

#####アプリのメンバーを削除する
分析データを共有する必要がなくなったアプリのメンバーに対しては、そのアカウントを削除することができます。アプリのメンバーの削除は、アドミン権限がある利用者なら誰でもできます。また、その削除結果はリアルタイムで反映されます。間違えてアカウントを削除してしまった場合は、メンバー追加をクリックし、改めて追加することができます。

#####アプリのメンバーを追加する
アプリのデータを確認する必要がある人を、アプリのメンバーとして追加することができます。 「メンバーを追加する」をクリックすると、カンパニーのメンバーをアプリに追加したり、メールアドレス宛に新規メンバーとして招待するメールを送ることができます。但し、新規メンバーを招待するためには、TOAST Cloudの会員でなければなりません。その場合は、別途承認プロセス無しで、すぐにアプリのメンバーとして追加されます。

####3. 分析設定
分析設定は、ユーザーのアプリデータを分析するために必要な設定です。分析設定で選択した項目およびグループが、分析ページに表示されます。 

#####カスタマイズイベントの設定
詳細分析項目のうち、ユーザーのステータスやプレイ状況などを詳しく分析できるカスタマイズイベント分析のために、収集されたイベントログを管理するメニューです。収集ログは、一日単位で自動的に収集およびアップデートされます。カスタマイズイベントの各項目は、分析時の必要性に応じて使用の有無を選択できます。表示名はデフォルトとして収集されたログと同じ名前で表示されますが、必要に応じて修正できます。

#####グループ設定
ユーザーグループを作成するために必要な設定です。レベル、累計購買金額、訪問日数、未訪問日数、保有友達数に対するグループ区間を設定することができます。設定されたグループ区間は変更できますが、分析済みの過去のデータについては、変更されたグループによる分析は実施されません。

####4. マーケティング管理
流入経路別の比較を行うために、トラッキングするマーケティングチャネルおよび流入経路を設定することができます。一部のチャネルはデフォルトとして提供され、登録した流入経路別に、細分化されたマーケティング効果が確認できます。


##マイ情報およびカンパニー管理

GNBの右側にある人型アイコンをクリックすると、マイ情報およびカンパニー管理ページに移動できます。

####1. 分析設定

![図13 マイ情報およびカンパニー管理のアイコン](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image13.png)

[図13 マイ情報およびカンパニー管理のアイコン]

####2. マイ情報
マイ情報ページでは、自分のアカウント、名前、所属しているカンパニー、現在設定中の代表アプリなどが確認できます。代表アプリとして選択したアプリは、Analytics分析ページでデフォルトとして表示されます。

![図14 マイ情報ページ](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/jp_Image14.png)

[図14 マイ情報ページ]

####3. カンパニー管理
カンパニー管理は、カンパニーの作成者のみ使用できます。

#####アカウント管理
カンパニーに所属しているメンバーを検索したり、新しいメンバーを追加したり、既存のメンバーを削除することができます。

- カンパニーのメンバーを追加する
「新規アカウントを追加する」をクリックし、追加したいメンバーのメールアドレスを入力すると、カンパニーへ招待できます。その際、招待対象となるアカウントは、TOAST Cloudに登録されていなければなりません。招待メールを受信したアカウントは、招待メールの認証リンクからAnalyticsに入ってログインすることで、招待されたカンパニーに所属されます。

- カンパニーのメンバーの削除する
「アカウント削除」をクリックすると、該当するアカウントをカンパニーから削除することができます。削除されたアカウントは、カンパニー招待で改めて追加することができます。

- メンバーのアプリ権限を確認する
カンパニーの各メンバーがどのアプリに所属しているのかが分かります。

#####アプリ管理
現在カンパニーに所属しているアプリリストおよびサービスの状態が確認できます。



#TOAST Cloud Consoleから開始

TOAST Cloud http://console.cloud.toast.comのウェブコンソールでプロジェクトを作成した後、左側のAnalytics > Game Analyticsから「商品利用」をクリックすれば、Analytics商品利用が開始されます。


![図15 TOAST CloudのウェブコンソールでAnalyticsを開始する](https://raw.githubusercontent.com/ToastAnalytics/ToastAnalytics_JA/master/docs/Developer/images/an_15.gif)

[図15 TOAST CloudのウェブコンソールでAnalyticsを開始する]

####1. アプリの基本情報を登録
「商品利用」を選択すると、アプリ登録ページに遷移し、Analyticsを使用することができます。アプリの登録は「アプリを登録する」をご参照ください。アプリを登録する際、カンパニーを新たに作成するか、所属しているカンパニーがある場合なら自動的に反映されます。

####2. 指標閲覧
アプリを登録すると、Console画面で基本的なモニタリングの指標を確認することができます。追加指標については、Console画面の上にある「詳しい指標分析」をクリックし、Analyticsの画面で確認することができます。

